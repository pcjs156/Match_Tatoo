{% extends 'base.html' %}
{% load static %}

{% block title %}
MAIN
{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/main.css' %}">
{% endblock %}


<!-- style="background-image:linear-gradient(black, 50%, rgb(22,22,22),65%,rgb(30,30,30),80%,rgb(22,22,22),grey, black)" -->

{% block content %}
<div class="container">
<section>
    <br>
    <br>
    {# 최신 매칭 #}
    <article>
        <p style="font-weight: bold;">최신 매칭 타투</p>

        <hr class="stroke">

        <p style="font-size: small;">매칭을 기다리는 <b><u>{{ total_unmatched_matching_cnt }}개</u></b>의 타투가 있어요!</p>
<br>
        <div class="columns is-mobile">
            {% for matching in latest_matchings %}
                <a href="{% url 'detail_matching' matching.author.id matching.id %}" class="column">
                    <div style="text-align: center;">
                        <img style="object-fit:cover;width:30vmin;height: 30vmin;border-radius: 5px" src="{{ matching.image.url }}" alt="{{ matching }}">
                    </div>
                </a>
            {% endfor %}
        </div>
    </article>


<br>
<br>

    {# 인기 매칭 #}
    <article>
        <p style="font-weight: bold;">인기 매칭 타투</p>

        <hr class="stroke">
        
        <div class="columns is-mobile">
        {% for matching in popular_matchings %}
            <a href="{% url 'detail_matching' matching.author.id matching.id %}" class="column">
                <div style="text-align: center;">
                    <img style="object-fit:cover;width:30vmin;height: 30vmin;border-radius: 5px" src="{{ matching.image.url }}" alt="{{ matching }}">
                </div>
            </a>
        {% endfor %}
        </div>
    </article>

<br>
<br>

    {# 인기 타투이스트 #}
    <article>
        <p>인기 타투이스트</p>

        <hr class="stroke">

        <div class="columns is-mobile">
        {% for tattooist in popular_tattooists %}
            <a href="{% url 'tattooist_profile' tattooist.id %}" class="column">
                <div style="text-align: center;">
                    <img style="object-fit:cover;width:30vmin;height: 30vmin;border-radius: 5px 5px 0 0;" src="{{ tattooist.user_image.url }}" alt="{{ tattooist.nickname }}님의 프로필 이미지">
                    <div style="background-color: rgba(0,0,0,0.5);padding:10% 0;border-radius:0 0 5px 5px">
                        <div style="font-weight: bold; font-size:smaller;margin-bottom: 4px;">{{ tattooist.nickname }} (♥ x {{ tattooist.get_follower_number }})</div>
                        <div style="font-size: small;">{{ tattooist.get_short_introduce }}</div>
                    </div>
                </div>
            </a>
        {% endfor %}
        </div>
    </article>

<br>
<br>

    {# 신규 타투이스트 #}
    <article>
        <p>신규 타투이스트</p>

        <hr class="stroke">
        
        <div class="columns is-mobile">
        {% for tattooist in new_tattooists %}
            <a href="{% url 'tattooist_profile' tattooist.id %}" class="column">
                <div style="text-align: center;">
                    <img style="object-fit:cover;width:30vmin;height: 30vmin;border-radius: 5px 5px 0 0;" src="{{ tattooist.user_image.url }}" alt="{{ tattooist.nickname }}님의 프로필 이미지">
                        <div style="background-color: rgba(0,0,0,0.5);padding:10% 0;border-radius:0 0 5px 5px">
                        <div style="font-weight: bold; font-size:smaller;margin-bottom: 4px;">{{ tattooist.nickname }}</div>
                        <div style="font-size: small;">{{ tattooist.get_short_introduce }}</div>
                    </div>
                </div>
            </a>
        {% endfor %}
        </div>
    </article>

    <br>
    <br>
    <br>
    <br>
    <br>

    <article>
        <div class="columns">
            <form class="column is-8" method="GET" action="/search_result">
                <input id="searchbar" type="text" placeholder="타투 검색하기.." name="w" style="width: 47em;">
                <button type="submit" value="검색">Search</button>
            </form>

            <div class="column is-4">
                <a href="{% url 'report' %}" style="text-align:center;"><button>불편 개선 신고하기</button></a>
            </div>
        </div>
    </article>


</section>


</div>
{% endblock %}