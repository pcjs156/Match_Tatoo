{% extends 'base.html' %}
{% load static %}

{% block title %}
MAIN
{% endblock %}
<style>

</style>
{% block head %}
<link rel="stylesheet" href="{% static 'css/main.css' %}">
{% endblock %}

{% block content %}
<!-- carousel -->

    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="d-block w-100" src="/static/tattoo_01.png" alt="First slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="/static/tattoo_02.png" alt="Second slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="/static/tattoo_03.png" alt="Third slide">
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>






<div class="container">
<section>
<br>

    {# 최신 매칭 #}
    <article>
        <p style="font-weight: bold;">최신 매칭 타투</p>

        <hr class="stroke">

        <p style="font-size: small;">매칭을 기다리는 <b><u>{{ total_unmatched_matching_cnt }}개</u></b>의 타투가 있어요!</p>
<br>
        <div class="columns">
            {% for matching in latest_matchings %}
                <a href="{% url 'detail_matching' matching.author.id matching.id %}" class="column">
                    <div style="text-align: center;">
                        <img style="object-fit:cover;width:30vmin;height: 30vmin;border-radius: 5px" src="{{ matching.image.url }}" alt="{{ matching }}">
                    </div>
                </a>
            {% endfor %}
        </div>
    </article>


<br>
<br>

    {# 인기 매칭 #}
    <article>
        <p style="font-weight: bold;">인기 매칭 타투</p>

        <hr class="stroke">
        
        <div class="columns">
        {% for matching in popular_matchings %}
            <a href="{% url 'detail_matching' matching.author.id matching.id %}" class="column">
                <div style="text-align: center;">
                    <img style="object-fit:cover;width:30vmin;height: 30vmin;border-radius: 5px" src="{{ matching.image.url }}" alt="{{ matching }}">
                </div>
            </a>
        {% endfor %}
        </div>
    </article>

<br>
<br>
<br>
<br>
<br>

    {# 인기 타투이스트 #}
    <article>
        <p>인기 타투이스트</p>

        <hr class="stroke">

        <div class="columns">
        {% for tattooist in popular_tattooists %}
            <a href="{% url 'tattooist_profile' tattooist.id %}" class="column">
                <div style="text-align: center;">
                    <img style="object-fit:cover;width:30vmin;height: 30vmin;border-radius: 5px;" src="{{ tattooist.user_image.url }}" alt="{{ tattooist.nickname }}님의 프로필 이미지">
                    <div>{{ tattooist.nickname }} (♥ x {{ tattooist.get_follower_number }})</div>
                    <div>{{ tattooist.get_short_introduce }}</div>
                </div>
            </a>
        {% endfor %}
        </div>
    </article>

<br>
<br>
<br>
<br>
<br>

    {# 신규 타투이스트 #}
    <article>
        <p>신규 타투이스트</p>

        <hr class="stroke">
        
        {% for tattooist in new_tattooists %}
            <a href="{% url 'tattooist_profile' tattooist.id %}">
                <div style="width: 10rem; background-color: lightgray">
                    <img style="width: 10rem;" src="{{ tattooist.user_image.url }}" alt="{{ tattooist.nickname }}님의 프로필 이미지">
                    <div>{{ tattooist.nickname }}</div>
                    <div>{{ tattooist.get_short_introduce }}</div>
                </div>
            </a>
        {% endfor %}
    </article>



    <article>
        <div class="columns">
            <form class="column is-8" method="GET" action="/search_result">
                <input id="searchbar" type="text" placeholder="타투 종류를 검색해보세요!" name="w" style="width: 46em;">
            </form>
            <div class="column is-">
                <button type="submit" value="검색">검색하기</button> OR
                <a href="{% url 'report' %}" style="text-align:center;"><button> 불편 개선 신고하기</button></a>
            </div>
        </div>
    </article>
    <br>


</section></div>
    
</body>

</div>
{% endblock %}