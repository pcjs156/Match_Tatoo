{% extends 'base.html' %}
{% load static %}

{% block title %}
Profile of {{ tattooist.nickname }}
{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/tattooist_profile.css' %}">
{% endblock %}

{% block content %}
    {% if not is_tattooist %}
    {# ν•΄λ‹Ή μ μ €κ°€ νƒ€ν¬μ΄μ¤νΈκ°€ μ•„λ‹ κ²½μ° #}
        <section>
            <p>ν•΄λ‹Ή μ μ €λ” νƒ€ν¬μ΄μ¤νΈκ°€ μ•„λ‹™λ‹λ‹¤.</p>
        </section>
    {% else %} {# else: not is_tattooist #}
    {# ν•΄λ‹Ή μ μ €κ°€ νƒ€ν¬μ΄μ¤νΈμΈ κ²½μ° #}
        <header>
            <p>λ‹‰λ„¤μ„: {{ tattooist.nickname }}</p>
            {% if is_owner %}
                {# ν•΄λ‹Ή νμ΄μ§€μ μ£ΌμΈμΈ κ²½μ° #}
                <p>
                    <a href="{% url 'create_portfolio' %}"><button>ν¬νΈν΄λ¦¬μ¤ μ‘μ„±</button></a>
                    <button>ν”„λ΅ν•„ νΈμ§‘</button>
                </p>
            {% else %} {# else: is_owner #}
                {# ν•΄λ‹Ή νμ΄μ§€μ μ£ΌμΈμ΄ μ•„λ‹ κ²½μ° #}
                <p>
                    <a href="{% url 'follow_pressed' tattooist.id %}"><button>
                        {% if now_following %}
                            β¤ {{ follower_count }}
                        {% else %}
                            π¤ {{ follower_count }}
                        {% endif %}
                    </button></a>
                    {% if request.user.is_authenticated %}
                    {# λ΅κ·ΈμΈν• μ μ €μ—κ²λ§ μ½μ§€ λ³΄λ‚΄κΈ° λ²„νΌμ΄ λ³΄μ„ #}
                    <a href="{% url 'message' request.user.id tattooist.id %}"><button>μ½μ§€ λ³΄λ‚΄κΈ°</button></a>
                    {% endif %}
                    {% if review_possible %}
                        {# λ¦¬λ·° μ‘μ„±μ΄ κ°€λ¥ν• κ²½μ° #}
                        <a href="{% url 'create_review' tattooist.id %}"><button>λ¦¬λ·° μ‘μ„±ν•κΈ°</button></a>
                    {% else %}
                        {# λ¦¬λ·° μ‘μ„±μ΄ λ¶κ°€λ¥ν• κ²½μ° #}
                        <button disabled>λ¦¬λ·° μ‘μ„± λ¶κ°€λ¥</button>
                    {% endif %}
                </p>
            {% endif %} {# endif: is_owner #}
            <p>
                μ†κ°: {{ tattooist.description }}
            </p>
            <p>
                <div>ν”„λ΅ν•„ μ΄λ―Έμ§€</div>
                <img style="width: 10rem; height: 10rem;" src="{{ tattooist.user_image.url }}" alt="{{ tattooist.nickname }}λ‹μ ν”„λ΅ν•„ μ΄λ―Έμ§€">
            </p>
        </header>

        <hr>

        <section>
            {# ν™”λ©΄ μ „ν™ #}
            {% if content_is_portfolio %}
                {# ν¬νΈν΄λ¦¬μ¤ ν™”λ©΄μΈ κ²½μ° #}
                <button disabled>ν¬νΈν΄λ¦¬μ¤ λ©λ΅</button>
                <a href="?page=1&menu=review"><button>λ¦¬λ·° λ©λ΅</button></a>
            {% else %}
                {# λ¦¬λ·° ν™”λ©΄μΈ κ²½μ° #}
                <a href="?page=1&menu=portfolio"><button>ν¬νΈν΄λ¦¬μ¤ λ©λ΅</button></a>
                <button disabled>λ¦¬λ·° λ©λ΅</button>
            {% endif %}

            {% if content_is_portfolio %}
              {# ν¬νΈν΄λ¦¬μ¤ ν™”λ©΄μΈ κ²½μ° #}
                <p>ν¬νΈν΄λ¦¬μ¤ λ©λ΅</p>
                {% if portfolios %}
                    {# ν¬νΈν΄λ¦¬μ¤κ°€ μλ” κ²½μ° #}
                    {% for portfolio in portfolios %}
                        <div>
                            <a href="{% url 'detail_portfolio' tattooist.id portfolio.id %}">
                                <img style="width: 10rem; height: 10rem;" src="{{ portfolio.portfolio_image.url }}" alt="ν¬νΈν΄λ¦¬μ¤ μ΄λ―Έμ§€ {{ portfolio.id }}">
                            </a>
                        </div>
                    {% endfor %}
                {% else %}
                    {# ν¬νΈν΄λ¦¬μ¤κ°€ μ—†λ” κ²½μ° #}
                    <div>μ‘μ„±λ ν¬νΈν΄λ¦¬μ¤κ°€ μ—†μµλ‹λ‹¤.</div>
                {% endif %}
                <p>
                    {# νμ΄μ§€λ„¤μ΄μ… - μ΄μ „ #}
                    {% if portfolios.has_previous %}
                        {# μ΄μ „ νμ΄μ§€κ°€ μμ„ λ•λ§ λ³΄μ„ #}
                        <a href="?page=1&menu=portfolio"><i class="fa fa-angle-double-left" aria-hidden="true"></i></a>
                        <a href="?page={{ portfolios.previous_page_number }}&menu=portfolio"><i class="fa fa-angle-left"></i></a>
                    {% else %}
                        {# μ΄μ „ νμ΄μ§€κ°€ μ—†μ„ λ• λ³΄μ„ #}
                        <a href="?page=1&menu=portfolio"><i class="fa fa-angle-double-left" aria-hidden="true"></i></a>
                        <a href="#"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                    {% endif %}

                    {# νμ΄μ§€λ„¤μ΄μ… - μ¤‘μ•™ #}
                    <span>{{ portfolios.number }}</span>
                    <span>/</span>
                    <span>{{ portfolios.paginator.num_pages }}</span>

                    {# νμ΄μ§€λ„¤μ΄μ… - λ‹¤μ #}
                    {% if portfolios.has_next %}
                        {# λ‹¤μ νμ΄μ§€κ°€ μμ„ λ•λ§ λ³΄μ„ #}
                        <a href="?page={{ portfolios.next_page_number }}&menu=portfolio"><i class="fa fa-angle-right"></i></a>
                        <a href="?page={{ portfolios.paginator.num_pages }}&menu=portfolio"><i class="fa fa-angle-double-right" aria-hidden="true"></i></a>
                    {% else %}
                        {# λ‹¤μ νμ΄μ§€κ°€ μ—†μ„ λ•λ§ λ³΄μ„ #}
                        <a href="#"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                        <a href="?page={{ portfolios.paginator.num_pages }}&menu=portfolio"><i class="fa fa-angle-double-right" aria-hidden="true"></i></a>
                    {% endif %}
                </p>
            {% else %} {# else: content_is_portfolio #}
               {# λ¦¬λ·° ν™”λ©΄μΈ κ²½μ° #}
                <p>λ¦¬λ·° λ©λ΅</p>
                {% if reviews %}
                    {# λ¦¬λ·°κ°€ μλ” κ²½μ° #}
                    {% for review in reviews %}
                        <div>
                            <a href="{% url 'detail_review' review.id %}">
                                <img style="width: 10rem; height: 10rem;" src="{{ review.review_image.url }}" alt="λ¦¬λ·° μ΄λ―Έμ§€ {{ review.id }}">
                            </a>
                        </div>
                    {% endfor %}
                {% else %}
                    {# λ¦¬λ·°κ°€ μ—†λ” κ²½μ° #}
                    <div>λ¦¬λ·°κ°€ μ•„μ§ μ‘μ„±λμ§€ μ•μ•μµλ‹λ‹¤.</div>
                {% endif %}
                <p>
                    {# νμ΄μ§€λ„¤μ΄μ… - μ΄μ „ #}
                    {% if reviews.has_previous %}
                        {# μ΄μ „ νμ΄μ§€κ°€ μμ„ λ•λ§ λ³΄μ„ #}
                        <a href="?page=1&menu=review"><i class="fa fa-angle-double-left" aria-hidden="true"></i></a>
                        <a href="?page={{ reviews.previous_page_number }}&menu=review"><i class="fa fa-angle-left"></i></a>
                    {% else %}
                        {# μ΄μ „ νμ΄μ§€κ°€ μ—†μ„ λ• λ³΄μ„ #}
                        <a href="?page=1&menu=review"><i class="fa fa-angle-double-left" aria-hidden="true"></i></a>
                        <a href="#"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                    {% endif %}

                    {# νμ΄μ§€λ„¤μ΄μ… - μ¤‘μ•™ #}
                    <span>{{ reviews.number }}</span>
                    <span>/</span>
                    <span>{{ reviews.paginator.num_pages }}</span>

                    {# νμ΄μ§€λ„¤μ΄μ… - λ‹¤μ #}
                    {% if reviews.has_next %}
                        {# λ‹¤μ νμ΄μ§€κ°€ μμ„ λ•λ§ λ³΄μ„ #}
                        <a href="?page={{ reviews.next_page_number }}&menu=review"><i class="fa fa-angle-right"></i></a>
                        <a href="?page={{ reviews.paginator.num_pages }}&menu=review"><i class="fa fa-angle-double-right" aria-hidden="true"></i></a>
                    {% else %}
                        {# λ‹¤μ νμ΄μ§€κ°€ μ—†μ„ λ•λ§ λ³΄μ„ #}
                        <a href="#"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                        <a href="?page={{ reviews.paginator.num_pages }}&menu=review"><i class="fa fa-angle-double-right" aria-hidden="true"></i></a>
                    {% endif %}
                </p>
            {% endif %} {# endif: content_is_portfolio #}
        </section>
    {% endif %} {# endif: not is_tattooist #}
{% endblock %}